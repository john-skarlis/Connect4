Table of Contents
=================
   * [Εγκατάσταση](#εγκατάσταση)
      * [Απαιτήσεις](#απαιτήσεις)
      * [Οδηγίες Εγκατάστασης](#οδηγίες-εγκατάστασης)
   * [Περιγράφη](#περιγραφή)
      * [Περιγραφή Παιχνιδιού](#περιγραφή-παιχνιδιού)
      * [Περιγραφή Εφαρμοφής](#περιγραφή-εφαρμογής)
      * [Συντελεστές](#Συντελεστές)
   * [Περιγραφή API](#περιγραφή-api)
      * [Methods](#methods)
         * [Board](#board)
            * [Ανάγνωση Board](#ανάγνωση-board)
            * [Αρχικοποίηση Board](#αρχικοποίηση-board)
            * [Εισαγωγή χρώματος στο Board](#εισαγωγή-χρώματος-στο-board)
         * [Player](#player)
            * [Ανάγνωση στοιχείων παίκτη](#ανάγνωση-στοιχείων-παίκτη)
            * [Καθορισμός στοιχείων παίκτη](#καθορισμός-στοιχείων-παίκτη)
         * [Status](#status)
            * [Ανάγνωση κατάστασης παιχνιδιού](#ανάγνωση-κατάστασης-παιχνιδιού)
      * [Entities](#entities)
         * [Board](#board-1)
         * [Players](#players)
         * [Game_status](#game_status)


# Page
Μπορείτε να επισκεφθείτε την σελίδα `https://users.iee.ihu.gr/~it154616/Connect4/` για να παίξετε το παιχνίδι.

# Εγκατάσταση

## Απαιτήσεις

* Apache2
* Mysql Server
* php

## Οδηγίες Εγκατάστασης

* Κάντε clone το project σε κάποιον φάκελο <br/>
  `$ git clone https://github.com/iee-ihu-gr-course1941/ADISE20_Skar`

 * Βεβαιωθείτε ότι ο φάκελος είναι προσβάσιμος από τον Apache Server. πιθανόν να χρειαστεί να καθορίσετε τις παρακάτω ρυθμίσεις.

 * Θα πρέπει να δημιουργήσετε στην Mysql την βάση με όνομα 'connect4' και να φορτώσετε σε αυτήν την βάση τα δεδομένα από το αρχείο DB/connect4.sql

 * Θα πρέπει να αλλάξετε στο αρχείο lib/db_config.php το οποίο πρέπει να περιέχει:
```
    <?php
	$DB_PASS = 'κωδικός';
	$DB_USER = 'όνομα χρήστη';
    ?>
```



# Περιγραφή

## Περιγραφή Παιχνιδιού

Το παιχνίδι Σκορ4 ή αλλιώς connect4 είναι ένα απλό διασκεδαστίκο παιχνίδι στο οποίο υπάρχουν δύο παίκτες και ο καθένας με την σειρά του συμπληρώνει ένα κελί του πίνακα με το χρώμα του ξεκινώντας από κάτω πρός τα πάνω. Στόχος των παικτών είναι να συμπληρώσουν τέσσερα διαδοχίκα κελιά, με ο κάθε ένας με το χρώμα του, είτε οριζόντια είτε κάθετα είτε διαγώνια. Νικητής είναι ο παίκτης που θα κάνει πρώτος τετράδα.

## Περιγραφή Εφαρμογής

Ξεκινώντας λοιπόν εκχωρεί ο κάθε παίκτης το ψευδώνυμο του και κάνει είσοδο στο παιχνίδι και το αρχικοποιεί και περιμένει τον άλλο παίχτη. Με την είσοδο και του δεύτερου παίκτη το παιχνίδι ξεκινάει και διαλέγει τυχαία ποιός παίκτης θα παίξει πρώτος και εμφανίζει το κουτάκι για να διαλέξει την στήλη που θα τοποθετηθεί, από κάτω προς τα πάνω, το χρώμα του. Η σειά αλλάζει μόλις παίξει ο παίκτης και πηγαίνει στον άλλον και έτσι συνεχίζει το παιχνίδι μέχρι κάποιος να συμπληρώσει τέσσερα διαδιχικά κουτάκια με το χρώμα του και να κερδίσει. Τότε το παιχνίδι τελειώνει και δείχνει τον νικητή. Πατώντας την επαναφορά οι παίκτες και ο πίνακας διαγράφονται και εμφανίζονται τα πεδία εισαγωγής των ψευδωνύμων και επαναλαμβάνονται οι προηγούμενες διαδικασίες. 

## Συντελεστές
Η εφαρμογή αυτή αναπτύχθηκε ολόκληρη από τον προγραμματιστή Σκαρλή Γίαννη.

# Περιγραφή API

## Methods

### Board
#### Ανάγνωση Board

```
GET /board/
```

Επιστρέφει το [Board](#Board).

#### Αρχικοποίηση Board

```
POST /board/reset/
```

Αρχικοποιεί το Board, δηλαδή το παιχνίδι. Γίνονται reset τα πάντα σε σχέση με το παιχνίδι.
Επιστρέφει το [Board](#Board).

#### Εισαγωγή χρώματος στο Board

```
PUT /board/move/
```

Εκχωρεί στο [Board](#Board) στην στήλη που θέλει ο παίκτης το χρώμα του μετά από έλεγχο του token. Επιστρέφει το [Board](#Board) ενημερωμένο.


### Players
#### Εισαγωγή παίκτη στο Players

```
PUT /players/
```

Εκχωρεί στον πίνακα [Player](#player) τα στοιχεία του παίκτη,
το ψευδώνυμο και το χρώμα που έχει διαλέξει και το token το οποίο δημιουργείται. Επιστρέφει τα στοιχεία του παίκτη.

#### Ανάγνωση στοιχείων παίκτη

```
GET /players/
```

Επιστρέφει τα στοιχεία του παίκτη ανάλογα με το χρώμα που στέλνονται στα data.

### Status
#### Ανάγνωση κατάστασης παιχνιδιού

```
GET /status/
```

Επιστρέφει το στοιχείο [Game_status](#Game_status).


## Entities


### Board
---------

Το board είναι ένας πίνακας, ο οποίος στο κάθε στοιχείο έχει τα παρακάτω:


| Attribute                | Description                                  | Values                              |
| ------------------------ | -------------------------------------------- | ----------------------------------- |
| `x`                      | H συντεταγμένη x του τετραγώνου              | 1..6                                |
| `y`                      | H συντεταγμένη y του τετραγώνου              | 1..7                                |
| `pawn_color`             | To χρώμα του τετραγώνου                      | 'R','Y','null'                      |


### Players
---------

O κάθε παίκτης έχει τα παρακάτω στοιχεία:


| Attribute                | Description                                  | Values                              |
| ------------------------ | -------------------------------------------- | ----------------------------------- |
| `nickname`               | Όνομα παίκτη                                 | String                              |
| `pawn_color`            | To χρώμα που παίζει ο παίκτης                | 'R','Y'                             |
| `token  `                | To κρυφό token του παίκτη. Επιστρέφεται μόνο τη στιγμή της εισόδου του παίκτη στο παιχνίδι | HEX |
| `last_change`             |Τελευταία αλλαγή/ενέργεια στον παίκτη         | timestamp |

### Game_status
---------

H κατάσταση παιχνιδιού έχει τα παρακάτω στοιχεία:


| Attribute                | Description                                  | Values                              |
| ------------------------ | -------------------------------------------- | ----------------------------------- |
| `status  `               | Κατάσταση             | 'not active', 'initialized', 'started', 'ended', 'aborded'     |
| `p_turn`                 | To χρώμα του παίκτη που παίζει        | 'R','Y','null'                             |
| `result`                 |  To χρώμα του παίκτη που κέρδισε |'R','Y','null'                             |
| `last_change`            | Τελευταία αλλαγή/ενέργεια στην κατάσταση του παιχνιδιού         | timestamp |
